name: Gambas CI
on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

jobs:
  build-and-test:
    runs-on: ubuntu-latest

    steps:
      - name: ğŸ“¥ RÃ©cupÃ©rer le code
        uses: actions/checkout@v4

      - name: ğŸ›  Installer Gambas
        run: |
          sudo add-apt-repository ppa:gambas-team/gambas3 -y
          sudo apt-get update
          # On installe le runtime et le compilateur de base
          sudo apt-get install -y gambas3-runtime gambas3-dev gambas3-gb-test

      - name: ğŸ— VÃ©rifier la compilation
        run: |
          # gbc3 est le compilateur Gambas. 
          # -p montre la progression, -f force tout.
          gbc3 -p -f

      - name: ğŸ§ª Lancer les tests
        run: |
          # Si tu utilises le composant gb.test de Gambas :
          # gbw3 est l'exÃ©cuteur de tests en ligne de commande
          gbw3